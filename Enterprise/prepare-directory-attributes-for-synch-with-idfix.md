---
title: 使用 IdFix 工具，準備用於與 Microsoft 365 同步處理的目錄屬性
ms.author: josephd
author: JoeDavies-MSFT
manager: laurawi
audience: Admin
ms.topic: article
ms.service: o365-administration
localization_priority: Normal
f1.keywords:
- CSH
ms.custom: Adm_O365
ms.collection:
- Ent_O365
- M365-identity-device-management
search.appverid:
- MET150
- MOE150
ms.assetid: 497593cf-24c6-491c-940b-7c86dcde9de0
description: 提供使用 IdFix 在同步處理至 Microsoft 365 之前準備及清除內部部署目錄的指示。
ms.openlocfilehash: cae1df048e58c65a3203ea39df18beb986adb0c8
ms.sourcegitcommit: c112869b3ecc0f574b7054ee1edc8c57132f8237
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/15/2020
ms.locfileid: "44736001"
---
# <a name="prepare-directory-attributes-for-synchronization-with-microsoft-365-by-using-the-idfix-tool"></a><span data-ttu-id="cd403-103">使用 IdFix 工具，準備用於與 Microsoft 365 同步處理的目錄屬性</span><span class="sxs-lookup"><span data-stu-id="cd403-103">Prepare directory attributes for synchronization with Microsoft 365 by using the IdFix tool</span></span>

<span data-ttu-id="cd403-104">*本文適用于 Microsoft 365 Enterprise 和 Office 365 企業版。*</span><span class="sxs-lookup"><span data-stu-id="cd403-104">*This article applies to both Microsoft 365 Enterprise and Office 365 Enterprise.*</span></span>

<span data-ttu-id="cd403-105">本主題包含有關執行 IdFix 工具的詳細指示、您可能會遇到的一些常見錯誤、建議的修正程式、範例，以及如何處理大量錯誤的最佳作法。</span><span class="sxs-lookup"><span data-stu-id="cd403-105">This topic contains detailed instructions about running the IdFix tool, some common errors you may encounter, suggested fixes, examples, and best practices for what to do if you have a large number of errors.</span></span>
  
## <a name="fixing-errors-in-your-directory-by-using-the-idfix-gui"></a><span data-ttu-id="cd403-106">使用 IdFix GUI 修正目錄中的錯誤</span><span class="sxs-lookup"><span data-stu-id="cd403-106">Fixing errors in your directory by using the IdFix GUI</span></span>

<span data-ttu-id="cd403-107">[執行 Microsoft 365 IdFix 工具](install-and-run-idfix.md)來搜尋目錄中的問題，然後修正 GUI 中的錯誤（如本主題所述）。</span><span class="sxs-lookup"><span data-stu-id="cd403-107">[Run the Microsoft 365 IdFix tool](install-and-run-idfix.md) to search for problems in your directory and then fix the errors in the GUI as described in this topic.</span></span> <span data-ttu-id="cd403-108">如果空白表格是由工具傳回，則不會發現任何錯誤。</span><span class="sxs-lookup"><span data-stu-id="cd403-108">If a blank table is returned by the tool, then no errors were discovered.</span></span> <span data-ttu-id="cd403-109">如果您的目錄中有許多問題，當工具傳回錯誤時，可能會變得很複雜。</span><span class="sxs-lookup"><span data-stu-id="cd403-109">If there are a lot of problems in your directory, it can be overwhelming when the tool returns the errors.</span></span> <span data-ttu-id="cd403-110">若要解決此問題，一種方法是先修正一個類型的所有錯誤，然後再移至下一個類型。</span><span class="sxs-lookup"><span data-stu-id="cd403-110">One way to tackle this is to fix all errors of one type first and then move on to the next type.</span></span> 
  
1. <span data-ttu-id="cd403-111">開始進行變更之前，請先查看 IdFix 所呈現的建議。</span><span class="sxs-lookup"><span data-stu-id="cd403-111">Before you start making changes, take a look at the recommendations presented by IdFix.</span></span>
    
2. <span data-ttu-id="cd403-112">查看 IdFix 傳回的錯誤清單。</span><span class="sxs-lookup"><span data-stu-id="cd403-112">Look over the list of errors that IdFix has returned.</span></span> <span data-ttu-id="cd403-113">您可以在列出錯誤類型的欄位頂端按一下 [**錯誤**]，依錯誤類型排序錯誤。</span><span class="sxs-lookup"><span data-stu-id="cd403-113">You can sort the errors by error type by clicking **ERROR** at the top of the column that lists the error types.</span></span> <span data-ttu-id="cd403-114">如果有一個以上的錯誤與單一屬性相關聯，錯誤會合並成一列。</span><span class="sxs-lookup"><span data-stu-id="cd403-114">If more than one error is associated with a single attribute, the errors are combined into one row.</span></span> <span data-ttu-id="cd403-115">在可能的情況下，IdFix 會在 [**更新**] 欄中提出修正建議。</span><span class="sxs-lookup"><span data-stu-id="cd403-115">Where possible, IdFix presents a recommendation for a fix in the **UPDATE** column.</span></span> <span data-ttu-id="cd403-116">修正是以檢查與物件相關聯之其他屬性的方式所組成。</span><span class="sxs-lookup"><span data-stu-id="cd403-116">The fix is based on a check of other attributes associated with an object.</span></span> <span data-ttu-id="cd403-117">雖然這些通常比目錄中的內容更好，但只有您可以決定實際的準確性。</span><span class="sxs-lookup"><span data-stu-id="cd403-117">While these are usually better than what is already in the directory, only you can decide what is really accurate.</span></span> 
    
3. <span data-ttu-id="cd403-118">如果 IdFix 對修正重複發生錯誤有建議，則會在 [**更新**] 欄中的值開頭，以三個旗標之一來識別修正。例如， `[E]john.doe@contoso.com` 。</span><span class="sxs-lookup"><span data-stu-id="cd403-118">If IdFix has a suggestion for a fix for a duplication error, the fix is identified by one of three flags at the start of the value in the **UPDATE** column, for example,  `[E]john.doe@contoso.com`.</span></span> <span data-ttu-id="cd403-119">如果您接受建議，當您套用變更時，就不會在目錄中插入旗標。</span><span class="sxs-lookup"><span data-stu-id="cd403-119">If you accept the suggestion, when you apply the change the flag will not be inserted in the directory.</span></span> <span data-ttu-id="cd403-120">只會套用建議旗標之後的值，例如 `john.doe@contoso.com` 。</span><span class="sxs-lookup"><span data-stu-id="cd403-120">Only the value following the suggestion flag will be applied, for example,  `john.doe@contoso.com`.</span></span> <span data-ttu-id="cd403-121">若要接受建議，請從 [**動作**] 欄中選取對應的動作。</span><span class="sxs-lookup"><span data-stu-id="cd403-121">If you want to accept the suggestion, select the matching action from the **ACTION** column.</span></span> <span data-ttu-id="cd403-122">旗標表示動作如下：</span><span class="sxs-lookup"><span data-stu-id="cd403-122">The flags indicate actions as follows:</span></span> 
    
 - <span data-ttu-id="cd403-123">**[C]** 建議的動作**完成**。</span><span class="sxs-lookup"><span data-stu-id="cd403-123">**[C]** Suggested action **COMPLETE**.</span></span> <span data-ttu-id="cd403-124">不需要編輯此值。</span><span class="sxs-lookup"><span data-stu-id="cd403-124">The value does not need to be edited.</span></span>
    
 - <span data-ttu-id="cd403-125">**[E]** 建議的動作**編輯**。</span><span class="sxs-lookup"><span data-stu-id="cd403-125">**[E]** Suggested action **EDIT**.</span></span> <span data-ttu-id="cd403-126">應該變更此值，以避免與目錄中的其他值發生衝突。</span><span class="sxs-lookup"><span data-stu-id="cd403-126">The value should be changed to avoid conflict with another value in the directory.</span></span>
    
 - <span data-ttu-id="cd403-127">**[R]** 建議**移除**動作。</span><span class="sxs-lookup"><span data-stu-id="cd403-127">**[R]** Suggested action **REMOVE**.</span></span> <span data-ttu-id="cd403-128">此值是非郵件啟用物件上的 SMTP proxy，而且可能會安全移除。</span><span class="sxs-lookup"><span data-stu-id="cd403-128">The value is an SMTP proxy on a non-mail enabled object and can probably be safely removed.</span></span>
    
4. <span data-ttu-id="cd403-129">閱讀並瞭解錯誤之後，請以您的變更更新 [**更新**] 欄中的專案，然後在 [**動作**] 欄中，選取您要 IdFix 執行變更的專案。</span><span class="sxs-lookup"><span data-stu-id="cd403-129">Once you've read and understood the errors, update the entry in the **UPDATE** column with your changes, and then in the **ACTION** column select what you want IdFix to do to implement the change.</span></span> <span data-ttu-id="cd403-130">例如，兩位使用者可能會 `proxyAddress` 辨識為重複。</span><span class="sxs-lookup"><span data-stu-id="cd403-130">For example, two users may have a  `proxyAddress` identified as duplicate.</span></span> <span data-ttu-id="cd403-131">只有一個使用者可以使用 `proxyAddress` 來傳遞郵件。</span><span class="sxs-lookup"><span data-stu-id="cd403-131">Only one user can use the  `proxyAddress` for mail delivery.</span></span> <span data-ttu-id="cd403-132">若要修正此問題，請使用正確的值標示使用者的 [**動作**] 欄**完成**，並為其他使用者標示 [**移除\*\*\*\*動作**] 欄。</span><span class="sxs-lookup"><span data-stu-id="cd403-132">To fix this, mark the **ACTION** column **COMPLETE** for the user with the correct value, and mark the **ACTION** column **REMOVE** for the other user.</span></span> <span data-ttu-id="cd403-133">這樣做會 `proxyAddress` 從使用者移除屬性，但不會變更其正確的使用者 `proxyAddress` `proxyAddress` 。</span><span class="sxs-lookup"><span data-stu-id="cd403-133">This removes the  `proxyAddress` attribute from the user to whom this  `proxyAddress` doesn't belong and it makes no change to the user for whom this  `proxyAddress` is correct.</span></span>
    
## <a name="common-errors-and-fixes-detected-by-idfix"></a><span data-ttu-id="cd403-134">IdFix 偵測到的常見錯誤和修正程式</span><span class="sxs-lookup"><span data-stu-id="cd403-134">Common errors and fixes detected by IdFix</span></span>
<span data-ttu-id="cd403-135">下表說明 IdFix 所偵測到的錯誤，提供從工具中最常建議的修正程式，而且在某些情況下提供如何修正這些錯誤的範例。</span><span class="sxs-lookup"><span data-stu-id="cd403-135">The following table describes the errors that are detected by IdFix, provides the most commonly suggested fixes from the tool, and in some cases provides examples of how to fix them.</span></span>

|<span data-ttu-id="cd403-136">**錯誤**</span><span class="sxs-lookup"><span data-stu-id="cd403-136">**ERROR**</span></span>|<span data-ttu-id="cd403-137">**錯誤類型描述**</span><span class="sxs-lookup"><span data-stu-id="cd403-137">**Error Type Description**</span></span>|<span data-ttu-id="cd403-138">**建議的修正**</span><span class="sxs-lookup"><span data-stu-id="cd403-138">**Suggested Fix**</span></span>|<span data-ttu-id="cd403-139">**範例**</span><span class="sxs-lookup"><span data-stu-id="cd403-139">**Example**</span></span>|
|:-----|:-----|:-----|:-----|
|<span data-ttu-id="cd403-140">**字元**</span><span class="sxs-lookup"><span data-stu-id="cd403-140">**character**</span></span> | <span data-ttu-id="cd403-141">非法字元。</span><span class="sxs-lookup"><span data-stu-id="cd403-141">Illegal characters.</span></span> <span data-ttu-id="cd403-142">值包含不正確字元。</span><span class="sxs-lookup"><span data-stu-id="cd403-142">The value contains a character which is invalid.</span></span> | <span data-ttu-id="cd403-143">[**更新**] 欄中所顯示之錯誤的建議修正會顯示已移除無效字元的值。</span><span class="sxs-lookup"><span data-stu-id="cd403-143">The suggested fix for the error shown in the **UPDATE** column shows the value with the invalid character removed.</span></span>  <br/> | <span data-ttu-id="cd403-144">有效郵寄地址結尾的尾隨空格是不合法的字元，例如：</span><span class="sxs-lookup"><span data-stu-id="cd403-144">A trailing space at the end of a valid mail address is an illegal character, for example:</span></span>  <br/> <span data-ttu-id="cd403-145">" `user@contoso.com` "</span><span class="sxs-lookup"><span data-stu-id="cd403-145">" `user@contoso.com` "</span></span>  <br/> <span data-ttu-id="cd403-146">有效郵寄地址開頭的前置空格是非法字元，例如：</span><span class="sxs-lookup"><span data-stu-id="cd403-146">A leading space at the beginning of a valid mail address is an illegal character, for example:</span></span>  <br/> <span data-ttu-id="cd403-147">" ` user@contoso.com `"</span><span class="sxs-lookup"><span data-stu-id="cd403-147">" ` user@contoso.com `"</span></span>  <br/>  <span data-ttu-id="cd403-148">`ú`字元是非法字元。</span><span class="sxs-lookup"><span data-stu-id="cd403-148">The  `ú` character is an illegal character.</span></span> |
|<span data-ttu-id="cd403-149">**重複**</span><span class="sxs-lookup"><span data-stu-id="cd403-149">**duplicate**</span></span> | <span data-ttu-id="cd403-150">重複的專案。</span><span class="sxs-lookup"><span data-stu-id="cd403-150">Duplicate entry.</span></span> <span data-ttu-id="cd403-151">值在查詢的範圍內重複。</span><span class="sxs-lookup"><span data-stu-id="cd403-151">The value has a duplicate within the scope of the query.</span></span> <span data-ttu-id="cd403-152">所有重複值都會顯示為錯誤。</span><span class="sxs-lookup"><span data-stu-id="cd403-152">All duplicate values will be displayed as errors.</span></span> | <span data-ttu-id="cd403-153">編輯或移除值，以消除重複。</span><span class="sxs-lookup"><span data-stu-id="cd403-153">Edit or remove values to eliminate duplication.</span></span> <span data-ttu-id="cd403-154">工具不會提供建議的重複專案修正。</span><span class="sxs-lookup"><span data-stu-id="cd403-154">The tool will not provide a suggested fix for duplicates.</span></span> <span data-ttu-id="cd403-155">相反地，您必須選擇兩個或多個重複專案中的哪一個是正確的重複專案，然後刪除重複的專案。</span><span class="sxs-lookup"><span data-stu-id="cd403-155">Instead, you must choose which of the two or more duplicates is the correct one and delete the duplicate entry or entries.</span></span> ||
|<span data-ttu-id="cd403-156">**format**</span><span class="sxs-lookup"><span data-stu-id="cd403-156">**format**</span></span> | <span data-ttu-id="cd403-157">格式化錯誤。</span><span class="sxs-lookup"><span data-stu-id="cd403-157">Formatting error.</span></span> <span data-ttu-id="cd403-158">值違反屬性使用狀況的格式需求。</span><span class="sxs-lookup"><span data-stu-id="cd403-158">The value violates the format requirements for the attribute usage.</span></span> | <span data-ttu-id="cd403-159">建議的更新會顯示已移除任何無效字元的值。</span><span class="sxs-lookup"><span data-stu-id="cd403-159">The suggested Update will show the value with any invalid characters removed.</span></span> <span data-ttu-id="cd403-160">如果沒有無效字元，則 Update 和 Value 會出現相同。</span><span class="sxs-lookup"><span data-stu-id="cd403-160">If there are no invalid characters the Update and Value will appear the same.</span></span> <span data-ttu-id="cd403-161">您需要判斷您在更新中的實際需要。</span><span class="sxs-lookup"><span data-stu-id="cd403-161">You need to determine what you really want in the Update.</span></span> <span data-ttu-id="cd403-162">工具不會提供所有格式化錯誤的建議修正。</span><span class="sxs-lookup"><span data-stu-id="cd403-162">The tool will not provide a suggested fix for all formatting errors.</span></span> | <span data-ttu-id="cd403-163">例如，SMTP 位址必須符合 RFC 2822，且 mailNickName 不能以句點開始或結束。</span><span class="sxs-lookup"><span data-stu-id="cd403-163">For example SMTP addresses must comply with RFC 2822 and mailNickName cannot start or end with a period.</span></span> <span data-ttu-id="cd403-164">如需目錄屬性之格式需求的詳細資訊，請參閱「目錄物件及屬性準備」，以[準備透過目錄同步作業將使用者布建至 Microsoft 365](prepare-for-directory-synchronization.md)。</span><span class="sxs-lookup"><span data-stu-id="cd403-164">For more information about format requirements for directory attributes, see "Directory object and attribute preparation" in [Prepare to provision users through directory synchronization to Microsoft 365](prepare-for-directory-synchronization.md).</span></span> |
|<span data-ttu-id="cd403-165">topleveldomain</span><span class="sxs-lookup"><span data-stu-id="cd403-165">topleveldomain</span></span>  <br/> |<span data-ttu-id="cd403-166">最上層網域。</span><span class="sxs-lookup"><span data-stu-id="cd403-166">Top level domain.</span></span> <span data-ttu-id="cd403-167">這適用于由[RFC 2822](https://go.microsoft.com/fwlink/p/?LinkId=401464)格式設定所制約的值。</span><span class="sxs-lookup"><span data-stu-id="cd403-167">This applies to values subject to [RFC 2822](https://go.microsoft.com/fwlink/p/?LinkId=401464) formatting.</span></span> <span data-ttu-id="cd403-168">如果最上層網域不是透過網際網路路由傳送，則會將此範圍識別為錯誤。</span><span class="sxs-lookup"><span data-stu-id="cd403-168">If the top level domain is not internet routable then this will be identified as an error.</span></span> <span data-ttu-id="cd403-169">例如，以中結尾的 SMTP 位址不會路由傳送，也就是導致此錯誤。</span><span class="sxs-lookup"><span data-stu-id="cd403-169">For example an SMTP address ending in .local is not internet routable and would cause this error.</span></span> |<span data-ttu-id="cd403-170">將值變更為網際網路可路由的網域，例如 `.com` 或 `.net` 。</span><span class="sxs-lookup"><span data-stu-id="cd403-170">Change the value to an internet routable domain such as  `.com` or  `.net`.</span></span> | <span data-ttu-id="cd403-171">變更 `myaddress@fourthcoffee.local` 為 `fourthcoffee.com` 或另一個網際網路可路由網域。</span><span class="sxs-lookup"><span data-stu-id="cd403-171">Change  `myaddress@fourthcoffee.local` to  `fourthcoffee.com` or another internet routable domain.</span></span>  <br/> <span data-ttu-id="cd403-172">如需相關指示，請參閱 how [to prepare a 不可路由的網域（例如，local domain）進行目錄同步](prepare-a-non-routable-domain-for-directory-synchronization.md)處理。</span><span class="sxs-lookup"><span data-stu-id="cd403-172">For instructions, see [How to prepare a non-routable domain (such as .local domain) for directory synchronization](prepare-a-non-routable-domain-for-directory-synchronization.md).</span></span> |
|<span data-ttu-id="cd403-173">**domainpart**</span><span class="sxs-lookup"><span data-stu-id="cd403-173">**domainpart**</span></span> | <span data-ttu-id="cd403-174">網域部分錯誤。</span><span class="sxs-lookup"><span data-stu-id="cd403-174">Domain part error.</span></span> <span data-ttu-id="cd403-175">這適用于由 RFC 2822 格式設定所制約的值。</span><span class="sxs-lookup"><span data-stu-id="cd403-175">This applies to values subject to RFC 2822 formatting.</span></span> <span data-ttu-id="cd403-176">如果此值的網域部分無效，且不符合 RFC 2822，將會產生此值。</span><span class="sxs-lookup"><span data-stu-id="cd403-176">If the domain portion of the value is invalid and does not comply with RFC 2822 this will be generated.</span></span> | <span data-ttu-id="cd403-177">將值變更為符合 RFC 2822 的值。</span><span class="sxs-lookup"><span data-stu-id="cd403-177">Change the value to one that complies with RFC 2822.</span></span> <span data-ttu-id="cd403-178">例如，請確定它不含任何空格或非法字元。</span><span class="sxs-lookup"><span data-stu-id="cd403-178">For example, make sure that it doesn't contain any spaces or illegal characters.</span></span> | <span data-ttu-id="cd403-179">變更 `myaddress@fourth coffee.com` 為 `myaddress@fourthcoffee.com` 。</span><span class="sxs-lookup"><span data-stu-id="cd403-179">Change  `myaddress@fourth coffee.com` to  `myaddress@fourthcoffee.com`.</span></span> |
|<span data-ttu-id="cd403-180">**domainpart_localpart**</span><span class="sxs-lookup"><span data-stu-id="cd403-180">**domainpart_localpart**</span></span> | <span data-ttu-id="cd403-181">本機部分錯誤。</span><span class="sxs-lookup"><span data-stu-id="cd403-181">Local-part error.</span></span> <span data-ttu-id="cd403-182">這適用于由 RFC 2822 格式設定所制約的值。</span><span class="sxs-lookup"><span data-stu-id="cd403-182">This applies to values subject to RFC 2822 formatting.</span></span> <span data-ttu-id="cd403-183">如果值的本機部分無效，且不符合 RFC 2822，將會產生此值。</span><span class="sxs-lookup"><span data-stu-id="cd403-183">If the local-part of the value is invalid and does not comply with RFC 2822 this will be generated.</span></span> |<span data-ttu-id="cd403-184">將值變更為符合 RFC 2822 的值。</span><span class="sxs-lookup"><span data-stu-id="cd403-184">Change the value to one that complies with RFC 2822.</span></span> <span data-ttu-id="cd403-185">例如，請確定它不含任何空格或非法字元。</span><span class="sxs-lookup"><span data-stu-id="cd403-185">For example, make sure that it doesn't contain any spaces or illegal characters.</span></span> |<span data-ttu-id="cd403-186">變更 `my"work"address@fourthcoffee.com` 為 `myworkaddress@fourthcoffee.com` 。</span><span class="sxs-lookup"><span data-stu-id="cd403-186">Change  `my"work"address@fourthcoffee.com` to  `myworkaddress@fourthcoffee.com`.</span></span> |
|<span data-ttu-id="cd403-187">**length**</span><span class="sxs-lookup"><span data-stu-id="cd403-187">**length**</span></span> | <span data-ttu-id="cd403-188">長度錯誤。</span><span class="sxs-lookup"><span data-stu-id="cd403-188">Length error.</span></span> <span data-ttu-id="cd403-189">值違反屬性的長度限制。</span><span class="sxs-lookup"><span data-stu-id="cd403-189">The value violates the length limit for the attribute.</span></span> <span data-ttu-id="cd403-190">當目錄架構變更時，通常會發生這種情況。</span><span class="sxs-lookup"><span data-stu-id="cd403-190">This is most commonly encountered when the directory schema has been altered.</span></span>  | <span data-ttu-id="cd403-191">IdFix 建議的更新會將值截斷為可接受的長度。</span><span class="sxs-lookup"><span data-stu-id="cd403-191">The update suggested by IdFix will truncate the value to the acceptable length.</span></span>  <br/> <span data-ttu-id="cd403-192">請注意，這可能會產生不想要的結果。</span><span class="sxs-lookup"><span data-stu-id="cd403-192">Be aware that this may produce undesired results.</span></span> <span data-ttu-id="cd403-193">您應查看建議的修正，並視需要加以變更，然後**按一下 [** 套用]。</span><span class="sxs-lookup"><span data-stu-id="cd403-193">You should review the suggested fix and change it if necessary before you click **Apply**.</span></span> ||
|<span data-ttu-id="cd403-194">**空白**</span><span class="sxs-lookup"><span data-stu-id="cd403-194">**blank**</span></span>  | <span data-ttu-id="cd403-195">空白或 null 錯誤。</span><span class="sxs-lookup"><span data-stu-id="cd403-195">Blank or null error.</span></span> <span data-ttu-id="cd403-196">該值違反要同步處理之屬性的 null 限制。</span><span class="sxs-lookup"><span data-stu-id="cd403-196">The value violates the null restriction for attributes to be synchronized.</span></span> <span data-ttu-id="cd403-197">只有少數幾個屬性必須包含值。</span><span class="sxs-lookup"><span data-stu-id="cd403-197">Only a few attributes must contain a value.</span></span> | <span data-ttu-id="cd403-198">如果可能的話，建議的更新會利用其他屬性值，以產生可能的替代。</span><span class="sxs-lookup"><span data-stu-id="cd403-198">If possible, the suggested update will leverage other attribute values in order to generate a likely substitute.</span></span> ||
|<span data-ttu-id="cd403-199">**mailmatch**</span><span class="sxs-lookup"><span data-stu-id="cd403-199">**mailmatch**</span></span> | <span data-ttu-id="cd403-200">這適用于僅限 Microsoft 365 專用。</span><span class="sxs-lookup"><span data-stu-id="cd403-200">This applies to Microsoft 365 Dedicated only.</span></span> <span data-ttu-id="cd403-201">值不符合 mail 屬性。</span><span class="sxs-lookup"><span data-stu-id="cd403-201">The value does not match the mail attribute.</span></span> | <span data-ttu-id="cd403-202">建議的更新將會是首碼為 "SMTP：" 的郵件屬性值。</span><span class="sxs-lookup"><span data-stu-id="cd403-202">The suggested update will be the mail attribute value prefixed by "SMTP:".</span></span> ||
    
## <a name="operations-you-can-perform-by-using-idfix"></a><span data-ttu-id="cd403-203">您可以使用 IdFix 執行的作業</span><span class="sxs-lookup"><span data-stu-id="cd403-203">Operations you can perform by using IdFix</span></span>
<span data-ttu-id="cd403-204">若要修正錯誤，請從 [**動作**] 下拉式清單中選取選項。</span><span class="sxs-lookup"><span data-stu-id="cd403-204">To fix an error, you select an option from the **ACTION** drop-down list.</span></span> <span data-ttu-id="cd403-205">下表說明使用 IdFix 工具可以對屬性執行的**動作**作業。</span><span class="sxs-lookup"><span data-stu-id="cd403-205">The following table describes the **ACTION** operations you can perform on attributes using the IdFix tool.</span></span> <span data-ttu-id="cd403-206">如果 [**動作**] 欄保留空白，IdFix 工具將不會對目錄中的特定錯誤採取任何動作。</span><span class="sxs-lookup"><span data-stu-id="cd403-206">If you leave the **ACTION** column empty, the IdFix tool will not take any action on that specific error in the directory.</span></span> 

|<span data-ttu-id="cd403-207">**行動**</span><span class="sxs-lookup"><span data-stu-id="cd403-207">**ACTION**</span></span>|<span data-ttu-id="cd403-208">**動作描述**</span><span class="sxs-lookup"><span data-stu-id="cd403-208">**Action description**</span></span>|<span data-ttu-id="cd403-209">**範例**</span><span class="sxs-lookup"><span data-stu-id="cd403-209">**Example**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="cd403-210">**完成**</span><span class="sxs-lookup"><span data-stu-id="cd403-210">**COMPLETE**</span></span> | <span data-ttu-id="cd403-211">原始值是可接受的，但不論識別為錯誤，都不應該加以變更。</span><span class="sxs-lookup"><span data-stu-id="cd403-211">The original value is acceptable and should not be changed despite being identified as an error.</span></span> | <span data-ttu-id="cd403-212">兩個使用者有識別為重複的 proxyAddress。</span><span class="sxs-lookup"><span data-stu-id="cd403-212">Two users have a proxyAddress identified as duplicate.</span></span> <span data-ttu-id="cd403-213">只有一個可以使用郵件傳遞的值。</span><span class="sxs-lookup"><span data-stu-id="cd403-213">Only one can use the value for mail delivery.</span></span> <span data-ttu-id="cd403-214">將具有正確值的使用者標示為**完成**。</span><span class="sxs-lookup"><span data-stu-id="cd403-214">Mark the user with the correct value as **COMPLETE**.</span></span> |
|<span data-ttu-id="cd403-215">**刪除**</span><span class="sxs-lookup"><span data-stu-id="cd403-215">**REMOVE**</span></span> | <span data-ttu-id="cd403-216">屬性值將會從來源物件中刪除。</span><span class="sxs-lookup"><span data-stu-id="cd403-216">The attribute value will be deleted from the source object.</span></span> <span data-ttu-id="cd403-217">例如，多重值屬性的情況下， `proxyAddresses` 只有顯示的個別值會被刪除。</span><span class="sxs-lookup"><span data-stu-id="cd403-217">In the case of a multi-valued attribute, for example,  `proxyAddresses`, only the individual value shown will be deleted.</span></span> | <span data-ttu-id="cd403-218">兩個使用者有識別為重複的 proxyAddress。</span><span class="sxs-lookup"><span data-stu-id="cd403-218">Two users have a proxyAddress identified as duplicate.</span></span> <span data-ttu-id="cd403-219">只有一個可以使用郵件傳遞的值。</span><span class="sxs-lookup"><span data-stu-id="cd403-219">Only one can use the value for mail delivery.</span></span> <span data-ttu-id="cd403-220">將具有重複值的使用者標示為 [**移除**]。</span><span class="sxs-lookup"><span data-stu-id="cd403-220">Mark the user with the duplicate value as **REMOVE**.</span></span> |
|<span data-ttu-id="cd403-221">**編輯**</span><span class="sxs-lookup"><span data-stu-id="cd403-221">**EDIT**</span></span> | <span data-ttu-id="cd403-222">[**更新**] 欄中的資訊將用於修改屬性值。</span><span class="sxs-lookup"><span data-stu-id="cd403-222">The information in the **UPDATE** column will be used to modify the attribute value.</span></span> <span data-ttu-id="cd403-223">如果已 IdFix 建議有效的**更新**值，請在 [**動作**] 欄中，選取 [**編輯**]，然後繼續進行下一個錯誤。</span><span class="sxs-lookup"><span data-stu-id="cd403-223">If a valid **UPDATE** value has been suggested by IdFix, then from the **ACTION** column, select **EDIT** and go on to the next error.</span></span> <span data-ttu-id="cd403-224">如果您不想要此建議，請在 [**更新**] 欄中輸入新的，然後從 [**動作**] 欄中選取 [**編輯**]。</span><span class="sxs-lookup"><span data-stu-id="cd403-224">If you don't like the suggestion, type a new one in the **UPDATE** column and then, from the **ACTION** column select **EDIT**.</span></span> ||
|<span data-ttu-id="cd403-225">**撤銷**</span><span class="sxs-lookup"><span data-stu-id="cd403-225">**UNDO**</span></span> | <span data-ttu-id="cd403-226">只有當您已從交易記錄檔還原時，才可使用此選項。</span><span class="sxs-lookup"><span data-stu-id="cd403-226">This option is only available if you have restored from a transaction log.</span></span> <span data-ttu-id="cd403-227">如果您選取 [**復原**]，屬性值將會還原為原始值。</span><span class="sxs-lookup"><span data-stu-id="cd403-227">If you select **UNDO**, the attribute value will be restored to the original value.</span></span> ||
|<span data-ttu-id="cd403-228">**FAIL**</span><span class="sxs-lookup"><span data-stu-id="cd403-228">**FAIL**</span></span> | <span data-ttu-id="cd403-229">只有在**更新**值與 AD DS 規則有未知衝突時，才會傳回此值。</span><span class="sxs-lookup"><span data-stu-id="cd403-229">This value is only returned if an **UPDATE** value has an unknown conflict with AD DS rules.</span></span> <span data-ttu-id="cd403-230">在此情況下，如果您知道失敗為何，您可以重新編輯 [**更新**] 欄位中的值。</span><span class="sxs-lookup"><span data-stu-id="cd403-230">In this case, you can edit the value in the **UPDATE** column again if you know what the failure is.</span></span> <span data-ttu-id="cd403-231">您可能需要使用 ADSI Edit 來分析物件中的值。</span><span class="sxs-lookup"><span data-stu-id="cd403-231">It may be necessary to analyze the values in the object using ADSI Edit.</span></span> <span data-ttu-id="cd403-232">如需詳細資訊，請參閱[ADSI Edit （adsi .msc）](https://go.microsoft.com/fwlink/p/?LinkId=401170)。</span><span class="sxs-lookup"><span data-stu-id="cd403-232">For more information, see [ADSI Edit (adsiedit.msc)](https://go.microsoft.com/fwlink/p/?LinkId=401170).</span></span> ||

<span data-ttu-id="cd403-233">選擇錯誤或錯誤批次的**動作**後 **，按一下 [** 套用]。</span><span class="sxs-lookup"><span data-stu-id="cd403-233">After choosing an **ACTION** for an error or a batch of errors, click **Apply**.</span></span> <span data-ttu-id="cd403-234">當您按一下**Apply**時，工具會在目錄中進行變更。</span><span class="sxs-lookup"><span data-stu-id="cd403-234">When you click **Apply**, the tool makes the changes in the directory.</span></span> <span data-ttu-id="cd403-235">您可以在按一下**Apply**之前提供多個錯誤的修復程式，IdFix 將同時變更所有錯誤。</span><span class="sxs-lookup"><span data-stu-id="cd403-235">You can provide fixes for multiple errors before you click **Apply** and IdFix will change them all at the same time.</span></span>

<span data-ttu-id="cd403-236">再次執行 IdFix，以確保您所進行的修復程式未引入新的錯誤。</span><span class="sxs-lookup"><span data-stu-id="cd403-236">Run IdFix again to ensure that the fixes you made didn't introduce new errors.</span></span> <span data-ttu-id="cd403-237">您可以視需要重複執行這些步驟。</span><span class="sxs-lookup"><span data-stu-id="cd403-237">You can repeat these steps as many times as you need to.</span></span> <span data-ttu-id="cd403-238">建議您在同步處理之前，先完成此程式。</span><span class="sxs-lookup"><span data-stu-id="cd403-238">It's a good idea to go through the process a few times before you synchronize.</span></span>
    
## <a name="changing-the-rule-set-used-by-idfix"></a><span data-ttu-id="cd403-239">變更 IdFix 所使用的規則集</span><span class="sxs-lookup"><span data-stu-id="cd403-239">Changing the rule set used by IdFix</span></span>
<span data-ttu-id="cd403-240">根據預設，IdFix 會使用多租使用者規則集來測試目錄中的專案。</span><span class="sxs-lookup"><span data-stu-id="cd403-240">By default, IdFix uses the Multi-Tenant rule set to test the entries in your directory.</span></span> <span data-ttu-id="cd403-241">這是大多數 Microsoft 365 客戶的正確規則集。</span><span class="sxs-lookup"><span data-stu-id="cd403-241">This is the right rule set for most Microsoft 365 customers.</span></span> <span data-ttu-id="cd403-242">不過，如果您是 Microsoft 365 專屬或 ITAR （跨國流量為 Arm 規章）客戶，您可以設定 IdFix 改為使用專用規則集。</span><span class="sxs-lookup"><span data-stu-id="cd403-242">However, if you are a Microsoft 365 Dedicated or ITAR (International Traffic in Arms Regulations) customer, you can configure IdFix to use the Dedicated rule set instead.</span></span> <span data-ttu-id="cd403-243">如果您不確定您是哪種類型的客戶，可以放心地略過此步驟。</span><span class="sxs-lookup"><span data-stu-id="cd403-243">If you aren't sure what type of customer you are, you can safely skip this step.</span></span> <span data-ttu-id="cd403-244">若要將規則集設定為專屬，請按一下功能表列中的齒輪圖示，然後按一下 [**專用**]。</span><span class="sxs-lookup"><span data-stu-id="cd403-244">To set the rule set to Dedicated, click the gear icon in the menu bar and then click **Dedicated**.</span></span>
  
## <a name="changing-the-scope-of-the-search-used-by-idfix"></a><span data-ttu-id="cd403-245">變更 IdFix 所使用的搜尋範圍</span><span class="sxs-lookup"><span data-stu-id="cd403-245">Changing the scope of the search used by IdFix</span></span>
<span data-ttu-id="cd403-246">根據預設，IdFix 會搜尋整個目錄。</span><span class="sxs-lookup"><span data-stu-id="cd403-246">By default, IdFix searches the entire directory.</span></span> <span data-ttu-id="cd403-247">如有需要，您可以設定工具來搜尋特定的子樹。</span><span class="sxs-lookup"><span data-stu-id="cd403-247">If you want, you can configure the tool to search a specific subtree instead.</span></span> <span data-ttu-id="cd403-248">若要執行此動作，請在功能表列中，按一下 [篩選] 圖示，然後輸入有效的子樹。</span><span class="sxs-lookup"><span data-stu-id="cd403-248">To do this, in the menu bar, click the Filter icon and enter a valid subtree.</span></span>
  
## <a name="rolling-back-your-changes-by-using-the-idfix-gui"></a><span data-ttu-id="cd403-249">使用 IdFix GUI 回退變更</span><span class="sxs-lookup"><span data-stu-id="cd403-249">Rolling back your changes by using the IdFix GUI</span></span>
<span data-ttu-id="cd403-250">每**次按一下 [** 套用] 套用變更時，IdFix 工具都會建立一個稱為交易記錄檔的個別檔案，以列出您剛才所做的變更。</span><span class="sxs-lookup"><span data-stu-id="cd403-250">Each time you click **Apply** to apply changes, the IdFix tool creates a separate file called a transaction log that lists the changes you just made.</span></span> <span data-ttu-id="cd403-251">您可以使用交易記錄檔回退最近記錄中所做的變更，以防您犯錯誤。</span><span class="sxs-lookup"><span data-stu-id="cd403-251">You can use the transaction log to roll back just those changes that are in the most recent log in case you make a mistake.</span></span> <span data-ttu-id="cd403-252">若您在更新時發生錯誤，您可以按一下 [**復原**]，撤銷最近套用的變更。</span><span class="sxs-lookup"><span data-stu-id="cd403-252">If you make a mistake while you are updating, you can undo the most recently applied changes by clicking **Undo**.</span></span> <span data-ttu-id="cd403-253">當您按一下 [**復原**] 時，IdFix 會使用交易記錄檔回復的是最近的交易記錄檔中所做的變更。</span><span class="sxs-lookup"><span data-stu-id="cd403-253">When you click **Undo**, IdFix uses the transaction log to roll back just those changes that are in the most recent transaction log.</span></span> <span data-ttu-id="cd403-254">如需使用交易記錄的詳細資訊，請參閱[Microsoft 365 IdFix 交易記錄](idfix-transaction-log.md)檔。</span><span class="sxs-lookup"><span data-stu-id="cd403-254">For more information about using the transaction log, see [Microsoft 365 IdFix transaction log](idfix-transaction-log.md).</span></span>

## <a name="next-step"></a><span data-ttu-id="cd403-255">下一步</span><span class="sxs-lookup"><span data-stu-id="cd403-255">Next step</span></span>

[<span data-ttu-id="cd403-256">設定目錄同步處理</span><span class="sxs-lookup"><span data-stu-id="cd403-256">Set up directory synchronization</span></span>](set-up-directory-synchronization.md)
